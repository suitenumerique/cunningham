import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./index-DTOEHpHZ.js";import{B as c}from"./index-BIqEzyda.js";import{I as g}from"./index-86jO0sQu.js";import{u as h}from"./index-C5sehico.js";const k=({defaultPage:a=1,defaultPagesCount:r,pageSize:n=10})=>{const[u,i]=o.useState(a),[s,l]=o.useState(r);return{page:u,setPage:i,onPageChange:i,pagesCount:s,setPagesCount:l,pageSize:n}},j=({page:a,onPageChange:r,pagesCount:n=0,displayGoto:u=!0})=>{const{t:i}=h(),[s,l]=o.useState("");if(o.useEffect(()=>{l(a+"")},[a]),n<=1)return null;const d=[1,a-2===3?a-3:-1,a-2,a-1,a,a+1,a+2,a+3===n-1?a+3:-1,n].filter(e=>e>0).filter(e=>e<=n).filter((e,m,v)=>e!==v[m-1]),f=()=>{r(Math.max(a-1,0))},x=()=>{r(Math.min(a+1,n))},p=()=>{let e=+s;(e<0||!e)&&(e=1),e>n&&(e=n),r(e)},b=a>1,_=a<n;return t.jsxs("div",{className:"c__pagination",children:[t.jsxs("div",{className:"c__pagination__list",children:[t.jsx(c,{color:"neutral",variant:"tertiary","aria-label":i("components.pagination.previous_aria"),onClick:f,disabled:!b,icon:t.jsx("span",{className:"material-icons",children:"navigate_before"}),size:"small"}),d.map((e,m)=>t.jsxs(o.Fragment,{children:[e>(d[m-1]||0)+1&&t.jsx("span",{className:"c__pagination__list__ellipsis",children:"..."}),e===a?t.jsx(c,{color:"neutral",variant:"bordered",active:!0,"aria-label":i("components.pagination.current_page_aria",{page:e}),size:"small",children:e}):t.jsx(c,{color:"neutral",variant:"tertiary","aria-label":i("components.pagination.goto_page_aria",{page:e}),onClick:()=>r(e),size:"small",children:e})]},e)),t.jsx(c,{color:"neutral",variant:"tertiary","aria-label":i("components.pagination.next_aria"),onClick:x,disabled:!_,icon:t.jsx("span",{className:"material-icons",children:"navigate_next"}),size:"small"})]}),u&&t.jsx("div",{className:"c__pagination__goto",children:t.jsx("form",{onSubmit:e=>{e.preventDefault(),p()},children:t.jsx(g,{type:"number",label:i("components.pagination.goto_label"),"aria-label":i("components.pagination.goto_label_aria"),size:2,value:s,onChange:e=>l(e.target.value),min:1,max:n,onBlur:()=>p(),onFocus:e=>e.target.select()})})})]})};j.__docgenInfo={description:"",methods:[],displayName:"Pagination",props:{page:{required:!0,tsType:{name:"number"},description:"Current page"},onPageChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(page: number) => void",signature:{arguments:[{type:{name:"number"},name:"page"}],return:{name:"void"}}},description:"Called when page need to change"},pagesCount:{required:!1,tsType:{name:"number"},description:"Total number of pages",defaultValue:{value:"0",computed:!1}},pageSize:{required:!0,tsType:{name:"number"},description:"Total number of items per page"},displayGoto:{required:!1,tsType:{name:"boolean"},description:"Display the goto input",defaultValue:{value:"true",computed:!1}}}};export{j as P,k as u};
